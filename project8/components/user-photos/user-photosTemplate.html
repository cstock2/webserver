<!doctype html>
<html>
<head>
    <script src="user-photosController.js"></script>
</head>
<body>
<div ng-controller = "UserPhotosController">
    <div>
        <p class = "photo-header"><a ng-href = "#/users/{{user.id}}">{{user.first_name}} {{user.last_name}}</a>'s Photos!</p>
    </div>
    <div ng-if = "!hasPhotos()">
        No Photo's Available!
    </div>
    <div ng-repeat = "x in photoArray" class = "photo-basic">
        <img ng-src = "images/{{x.file_name}}">
        <div><span class = "photo-bold">Photo created by :</span> <a ng-href = "#/users/{{x.user.id}}">{{x.user.first_name}} {{x.user.last_name}}</a></div>
        <div><span class = "photo-bold">Photo uploaded :</span> {{x.date_time}}</div>
        <div><button ng-click="like(x.id, user.user_id)">Like</button> {{x.likes.length}}</div>
        <p class = "photo-comment">Comments</p>
        <div ng-if = "x.comments.length != 0">
            <div ng-repeat = "y in x.comments">
                <div><a ng-href = "#/users/{{y.user.id}}">{{y.user.first_name}} {{y.user.last_name}}</a>: {{y.comment}}</div>
                <div>Posted {{y.date_time}}</div>
                <p></p>
            </div>
        </div>
        <div><input type = "text"  placeholder = "Add a comment" ng-model = "photos.comments[$index]"><button ng-click = "submitComment(photos.comments[$index], x.id)">Add Comment</button></div>
    </div>
</div>
</body>
</html>